<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ƒê·∫∑t h√†ng G√† R√°n</title>
  <link rel="stylesheet" href="ChiTietThucDon.css">
</head>
<body>
  <div class="back-button-container">
  <a href="ThucDon.html" class="back-button">
    <span class="arrow"></span>Quay l·∫°i
  </a>
</div>


  <div class="order-container">
    <div class="food-image">
      <img src="images/canh-ga-nuong.jpg" alt="ƒê√πi g√† r√°n">
    </div>
    <div class="food-details">
      <div>
        <h2>C√ÅNH G√Ä N∆Ø·ªöNG</h2>

        <label for="quantity">S·ªë l∆∞·ª£ng:</label>
        <div class="quantity-selector">
          <button onclick="updateQuantity(-1)">‚àí</button>
          <input type="text" id="quantity" value="1" oninput="validateQuantity()" />
          <button onclick="updateQuantity(1)">+</button>
        </div>

        <div class="price" id="total-price">T·ªïng gi√°: 35.000ƒë</div>
      </div>
      <button class="order-button" onclick="confirmOrder()">ƒê·∫∑t h√†ng ngay</button>
    </div>
  </div>

  <script>
    const unitPrice = 35000;

    function updateQuantity(change) {
      const input = document.getElementById('quantity');
      let value = parseInt(input.value) || 1;
      value += change;
      if (value < 1) {
        alert("‚ö†Ô∏è S·ªë l∆∞·ª£ng t·ªëi thi·ªÉu l√† 1");
        value = 1;
      }
      if (value > 100) {
        alert("‚ö†Ô∏è S·ªë l∆∞·ª£ng t·ªëi ƒëa l√† 100");
        value = 100;
      }
      input.value = value;
      updateTotalPrice();
    }

    function validateQuantity() {
      const input = document.getElementById('quantity');
      let raw = input.value.trim();
      let value = parseInt(raw.replace(/\D/g, '')) || 1;

      if (raw === '') {
        input.value = 1;
        updateTotalPrice();
        return;
      }

      if (value < 1) {
        alert('‚ö†Ô∏è S·ªë l∆∞·ª£ng t·ªëi thi·ªÉu l√† 1');
        value = 1;
      }

      if (value > 100) {
        alert('‚ö†Ô∏è S·ªë l∆∞·ª£ng t·ªëi ƒëa l√† 100');
        value = 100;
      }

      input.value = value;
      updateTotalPrice();
    }

    function updateTotalPrice() {
      const quantity = parseInt(document.getElementById('quantity').value);
      const total = quantity * unitPrice;
      document.getElementById('total-price').innerText =
        `T·ªïng gi√°: ${total.toLocaleString('vi-VN')}ƒë`;
    }

    function confirmOrder() {
      const quantity = document.getElementById('quantity').value;
      const total = quantity * unitPrice;
      alert(`üßæ B·∫°n ƒë√£ ƒë·∫∑t ${quantity} ph·∫ßn g√† r√°n.\nüí∞ T·ªïng ti·ªÅn: ${total.toLocaleString('vi-VN')}ƒë`);
    }

    window.onload = updateTotalPrice;
  </script>

</body>
</html>
